<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>D4.1a - VISHNU File Management Services Package Design</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.0" /></head><body><div class="book"><div class="titlepage"><div><div><h1 class="title"><a id="idm15527656"></a>D4.1a - VISHNU File Management Services Package Design</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Benjamin</span> <span class="surname">Isnard</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Daouda</span> <span class="surname">Traoré</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Eugène</span> <span class="surname">Pamba Capo-Chichi</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Kevin</span> <span class="surname">Coulomb</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Ibrahima</span> <span class="surname">Cissé</span></h3></div></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><strong>Revision History</strong></th></tr><tr><td align="left">Revision 1</td><td align="left">25/03/2011</td><td align="left">SysFera</td></tr><tr><td align="left" colspan="3">
          
        <p>Deliverable version</p></td></tr><tr><td align="left">Revision 2</td><td align="left">05/12/2012</td><td align="left">SysFera</td></tr><tr><td align="left" colspan="3">
          
        <p>Rename of FMS API functions according to POSIX names</p></td></tr></table></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="chapter"><a href="#idp6760">1. Document presentation</a></span></dt><dd><dl><dt><span class="section"><a href="#idp7080">Document objectives</a></span></dt><dt><span class="section"><a href="#idp8224">Document structure</a></span></dt><dt><span class="section"><a href="#idp10960">References</a></span></dt><dt><span class="section"><a href="#idp13848">Acronyms</a></span></dt><dt><span class="section"><a href="#idp32352">Glossary</a></span></dt></dl></dd><dt><span class="chapter"><a href="#idp35544">2. System Architecture</a></span></dt><dd><dl><dt><span class="section"><a href="#idp35864">Introduction</a></span></dt><dt><span class="section"><a href="#idp36928">Overview of the FMS software infrastructure</a></span></dt><dt><span class="section"><a href="#idp44392">Installation prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#idp44744">Client side</a></span></dt><dt><span class="section"><a href="#idp47408">Server side</a></span></dt></dl></dd><dt><span class="section"><a href="#idp50480">Architecture diagrams</a></span></dt><dd><dl><dt><span class="section"><a href="#idp50832">FMS client-side components</a></span></dt><dt><span class="section"><a href="#idp53256">FMS server-side components</a></span></dt><dt><span class="section"><a href="#idp55952">SysFera-DS Bus Details</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#idp58792">3. Internal API specification</a></span></dt><dd><dl><dt><span class="section"><a href="#idp59312">Generic definition formats presentation</a></span></dt><dd><dl><dt><span class="section"><a href="#idp60000">Service definition format</a></span></dt></dl></dd><dt><span class="section"><a href="#idp73792">Definition of the services of the package</a></span></dt><dd><dl><dt><span class="section"><a href="#idp74160">Service fileCreate</a></span></dt><dt><span class="section"><a href="#idp93080">Service DirCreate</a></span></dt><dt><span class="section"><a href="#idp112136">Service fileRemove</a></span></dt><dt><span class="section"><a href="#idp130488">Service DirRemove</a></span></dt><dt><span class="section"><a href="#idp147992">Service grpChange</a></span></dt><dt><span class="section"><a href="#idp167016">Service modeChange</a></span></dt><dt><span class="section"><a href="#idp186048">Service fileHead</a></span></dt><dt><span class="section"><a href="#idp206656">Service fileTail</a></span></dt><dt><span class="section"><a href="#idp227264">Service fileContent</a></span></dt><dt><span class="section"><a href="#idp247184">Service dirList</a></span></dt><dt><span class="section"><a href="#idp268368">Service fileCopy</a></span></dt><dt><span class="section"><a href="#idp289888">Service fileAsyncCopy</a></span></dt><dt><span class="section"><a href="#idp313032">Service fileMove</a></span></dt><dt><span class="section"><a href="#idp333800">Service fileAsyncMove</a></span></dt><dt><span class="section"><a href="#idp356200">Service FileTransferCancel</a></span></dt><dt><span class="section"><a href="#idp372344">Service fileTransfersList</a></span></dt><dt><span class="section"><a href="#idp391848">Service FilesInfo</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#idp411184">4. Internal class and data structures</a></span></dt><dd><dl><dt><span class="section"><a href="#idp411544">Introduction</a></span></dt><dt><span class="section"><a href="#idp417208">FMS client modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp417728">Class diagrams</a></span></dt></dl></dd><dt><span class="section"><a href="#idp420472">FMS server modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp420992">Class diagrams</a></span></dt></dl></dd><dt><span class="section"><a href="#idp423712">FMS data modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp424232">Class diagrams</a></span></dt></dl></dd></dl></dd></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>2.1. <a href="#idp51856">FMS client-side components</a></dt><dt>2.2. <a href="#idp54552">FMS server-side components</a></dt><dt>2.3. <a href="#idp57264">SysFera-DS Bus Details</a></dt><dt>4.1. <a href="#idp418928">FMS Client Class Diagram</a></dt><dt>4.2. <a href="#idp422168">FMS Server Class Diagram</a></dt><dt>4.3. <a href="#idp425248">FMS Data Class Diagram</a></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp6760"></a>Chapter 1. Document presentation</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#idp7080">Document objectives</a></span></dt><dt><span class="section"><a href="#idp8224">Document structure</a></span></dt><dt><span class="section"><a href="#idp10960">References</a></span></dt><dt><span class="section"><a href="#idp13848">Acronyms</a></span></dt><dt><span class="section"><a href="#idp32352">Glossary</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp7080"></a>Document objectives</h2></div></div></div><p>This document presents the detailed internal design of the File Management Services (FMS) module. The purpose of this
        package is to handle all aspects of file transfer and file property modification within the VISHNU system. The functional
        and non-functional requirements for this module are those described in the [D1.1a] and [D1.1c] document (see References). The current
        document is part of the design phase of the software and therefore its main goal is to define the main class used in the FMS software and their relationships.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp8224"></a>Document structure</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Chapter 1 contains a brief overview of the document content.</p></li><li class="listitem"><p>Chapter 2 contains a high-level overview of the system architecture except the deployment aspect which
            is well discribed in the architecture document (see [D1.1g]).</p></li><li class="listitem"><p>Chapter 3 describes the internal API used for remote procedure calls through SysFera-DS.</p></li><li class="listitem"><p>Chapter 4 describes the internal classes and data structures except the Vishnu core functions modelization which is
          included in the VISHNU Users Management Service Design document (see[D2.1a]).</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp10960"></a>References</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>[D1.1a]: VISHNU General specifications</p></li><li class="listitem"><p>[D1.1b]: VISHNU Spécifications techniques des besoins</p></li><li class="listitem"><p>[D1.1c]: VISHNU API Detailed specifications</p></li><li class="listitem"><p>[D1.1g]: VISHNU technical architecture</p></li><li class="listitem"><p>[D2.1a]: VISHNU users management services package design</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp13848"></a>Acronyms</h2></div></div></div><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>API</strong></span>: Application programming interface</p></li><li class="listitem"><p><span class="bold"><strong>CLI</strong></span>: Command line interface</p></li><li class="listitem"><p><span class="bold"><strong>DB</strong></span>: DataBase</p></li><li class="listitem"><p><span class="bold"><strong>n/a</strong></span>: Not Appliable (used for serializable capability in function descriptions)</p></li><li class="listitem"><p><span class="bold"><strong>SeD</strong></span>: A Server Daemon is a SysFera-DS agent that provides services through the SysFera-DS API.</p></li><li class="listitem"><p><span class="bold"><strong>FMS</strong></span>: File management services</p></li><li class="listitem"><p><span class="bold"><strong>WS</strong></span>: Web services</p></li></ul></div><p>
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp32352"></a>Glossary</h2></div></div></div><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Components</strong></span>: the software components represents a library or an executable program that provides a given interface to other components or to end-users.</p></li><li class="listitem"><p><span class="bold"><strong>Serialized type</strong></span>: this is a class of data (C++ Class) which instances can be serialized in a XML string before being sent over an API (to or from the API). The data is deserialized on the other side of the channel in order to re-build the same instance of the class.</p></li><li class="listitem"><p><span class="bold"><strong>SysFera-DS</strong></span>: open-source middleware developped by SysFera.</p></li></ul></div><p>
      </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp35544"></a>Chapter 2. System Architecture</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#idp35864">Introduction</a></span></dt><dt><span class="section"><a href="#idp36928">Overview of the FMS software infrastructure</a></span></dt><dt><span class="section"><a href="#idp44392">Installation prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#idp44744">Client side</a></span></dt><dt><span class="section"><a href="#idp47408">Server side</a></span></dt></dl></dd><dt><span class="section"><a href="#idp50480">Architecture diagrams</a></span></dt><dd><dl><dt><span class="section"><a href="#idp50832">FMS client-side components</a></span></dt><dt><span class="section"><a href="#idp53256">FMS server-side components</a></span></dt><dt><span class="section"><a href="#idp55952">SysFera-DS Bus Details</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp35864"></a>Introduction</h2></div></div></div><p> The purpose of this section is to precise the role of the FMS as VISHNU module. As indicated in [D1.1g], FMS is the part of VISHNU
        architecture which handles the file transfers between storage resources.
        Futhermore, FMS provides several other services to manipulate a property of a file, like changing its owner, changing its access permissions, get its
        complete or partial content, see the section for exhaustive list of
        providesd services. 
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp36928"></a>Overview of the FMS software infrastructure</h2></div></div></div><p>We present in this section a detailed description of the FMS package architecture in terms of software components.
        In addition we show the dependencies between components to highlight their reuse. These components follow a SOA model where each
        server publishes a set of services that can be used by the clients.
        We present the different software layers from services (provided directly to the user) to the database (used by the server). 
        The FMS client server package has been split into seven different interrelated components. The deployment aspects have already been described
        in the technical architecture document (cf [D1.1g]). The diagrams shown in section 2.2 describe
        the relationships between these components. The definitions of the components are the following:
       </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>External API</strong></span>
	     contains precisely the services provided to the user as defined in the detailed specifications.
	    </p></li><li class="listitem"><p><span class="bold"><strong>Internal API</strong></span>
	     publishes the services provided by the servers. The services of the external API are implemented using requests sent through
       the SysFera-DS middleware to this API.
	    </p></li><li class="listitem"><p><span class="bold"><strong>FMS Client</strong></span>
	    contains intermediate (proxy) classes providing remote access to the business objects of <span class="bold"><strong>FMS Server</strong></span>.
	    </p></li><li class="listitem"><p><span class="bold"><strong>FMS Server</strong></span>
	     contains all classes implementing business objects by encapsulating the processing provided through the internal API.
	    </p></li><li class="listitem"><p><span class="bold"><strong>Sysfera-DS Client API</strong></span> is the C++ client API provided by the SysFera-DS toolbox.</p></li><li class="listitem"><p><span class="bold"><strong>Sysfera-DS Server API</strong></span> is the C++ server API provided by the SysFera-DS toolbox.</p></li><li class="listitem"><p><span class="bold"><strong>Vishnu Database</strong></span> has been already described in [D2.1a]. As we could see, it stores the file transfer
       data used by the FMS Server.
	    </p></li></ul></div><p>
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp44392"></a>Installation prerequisites</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp44744"></a>Client side</h3></div></div></div><p>The installation of FMS module on the client needs the following libraries </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>VISHNU UMS libraries: the VISHNU User Management Service that allow the session creation and user authentification.
            </p></li><li class="listitem"><p>C++ and Boost-C++ libraries </p></li><li class="listitem"><p>Sysfera-DS Client libraries </p></li><li class="listitem"><p>A SSH Server to perform a remote to local transfer file.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp47408"></a>Server side</h3></div></div></div><p>The installation of FMS module on the server side needs the following libraries:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>VISHNU UMS libraries: the VISHNU User Management Service that allow the session creation and user authentification
            </p></li><li class="listitem"><p>C++ and Boost-C++ libraries</p></li><li class="listitem"><p>Sysfera-DS Server libraries</p></li><li class="listitem"><p>A SSH Server</p></li><li class="listitem"><p>The Rsync Debian package </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp50480"></a>Architecture diagrams</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp50832"></a>FMS client-side components</h3></div></div></div><p>This diagram shows the components that compose the client side of the Vishnu FMS system and their interfaces. Two services among all the services of the FMS external API (cf [D1.1c]) are shown here for example. These services are consumed by several user interfaces: command-line, web services and Python. All the interfaces of the FMS Client component are shown. We can note that the FMS External API uses the UMS Client Lib to handle user and machines authentication.</p><div class="figure"><a id="idp51856"></a><p class="title"><strong>Figure 2.1. FMS client-side components</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/FMS_client-side_components.png" align="middle" alt="FMS client-side components" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp53256"></a>FMS server-side components</h3></div></div></div><p>This diagram shows the components that compose the server side of the Vishnu FMS system and their interfaces. Two services among all the services of the FMS internal API are shown here for example. These services are published by the FMS Sed and are consumed by the FMS Client component through the SysFera-DS API. All the interfaces of the FMS Server component are shown.</p><div class="figure"><a id="idp54552"></a><p class="title"><strong>Figure 2.2. FMS server-side components</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/FMS_server-side_components.png" align="middle" alt="FMS server-side components" /></div></div></div><br class="figure-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp55952"></a>SysFera-DS Bus Details</h3></div></div></div><p>This diagram shows the communication paths between the Client host and two FMS  server using the SysFera-DS Bus. The SysFera-DS MasterAgent is a SysFera-DS agent that can be executed on a dedicated host or on the same host as the FMS Server. All the communications between the entities here are done using the CORBA IIOP (Internet Inter-ORB) protocol and the communications can be tunneled through SSH tunnels if necessary. The MasterAgent entity is involved in the choice of one FMS Server in the case of  several available FMS servers. The choice will be transparent to the user as all FMS Servers connect to the same database.  The diagram shows here all the communication paths in the case where one FMS Server (FMS Server 1) is chosen by the MasterAgent.</p><div class="figure"><a id="idp57264"></a><p class="title"><strong>Figure 2.3. SysFera-DS Bus Details</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/SysFera-DS_Bus_Details.png" align="middle" alt="SysFera-DS Bus Details" /></div></div></div><br class="figure-break" /></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp58792"></a>Chapter 3. Internal API specification</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#idp59312">Generic definition formats presentation</a></span></dt><dd><dl><dt><span class="section"><a href="#idp60000">Service definition format</a></span></dt></dl></dd><dt><span class="section"><a href="#idp73792">Definition of the services of the package</a></span></dt><dd><dl><dt><span class="section"><a href="#idp74160">Service fileCreate</a></span></dt><dt><span class="section"><a href="#idp93080">Service DirCreate</a></span></dt><dt><span class="section"><a href="#idp112136">Service fileRemove</a></span></dt><dt><span class="section"><a href="#idp130488">Service DirRemove</a></span></dt><dt><span class="section"><a href="#idp147992">Service grpChange</a></span></dt><dt><span class="section"><a href="#idp167016">Service modeChange</a></span></dt><dt><span class="section"><a href="#idp186048">Service fileHead</a></span></dt><dt><span class="section"><a href="#idp206656">Service fileTail</a></span></dt><dt><span class="section"><a href="#idp227264">Service fileContent</a></span></dt><dt><span class="section"><a href="#idp247184">Service dirList</a></span></dt><dt><span class="section"><a href="#idp268368">Service fileCopy</a></span></dt><dt><span class="section"><a href="#idp289888">Service fileAsyncCopy</a></span></dt><dt><span class="section"><a href="#idp313032">Service fileMove</a></span></dt><dt><span class="section"><a href="#idp333800">Service fileAsyncMove</a></span></dt><dt><span class="section"><a href="#idp356200">Service FileTransferCancel</a></span></dt><dt><span class="section"><a href="#idp372344">Service fileTransfersList</a></span></dt><dt><span class="section"><a href="#idp391848">Service FilesInfo</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp59312"></a>Generic definition formats presentation</h2></div></div></div><p>This section presents the formats used in this chapter to describe the services provided
            by the internal API.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp60000"></a>Service definition format</h3></div></div></div><p><span class="bold"><strong>Access </strong></span></p><p>Here is detailed the access level of the service 'myService' (i.e. the privilege required to use it)</p><p><span class="bold"><strong>Parameters</strong></span></p><p>The following table contains all the input and output parameters of the service, along with their type and description.</p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>This is an example of a required string input parameter</p></td><td><p>IN</p></td></tr><tr><td><p>listOfJobs</p></td><td><p>string</p></td><td><p>ListJobs</p></td><td><p>This is an example of an object output parameter that is serialized as a string</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>Here is detailed the purpose of the service 'myService'</p><p><span class="bold"><strong>Return Value </strong></span></p><p>Here are detailed the different return codes provided by the service.</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed successfully.</p></td></tr><tr><td><p>TMS_UNKNOWN_MACHINE</p></td><td><p>This is the human-readable generic message that will be available to the user of the API.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>This shows the list of functions from the external Vishnu API (see [D1_1c]) that use this service.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp73792"></a>Definition of the services of the package</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp74160"></a>Service fileCreate</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file to create following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>mode</p></td><td><p>mode_t</p></td><td><p>n/a</p></td><td><p>The file access permissions in octal numeral system</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileCreate() function creates  files on  remote machines.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::touch</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp93080"></a>Service DirCreate</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  directory to create following the pattern  [host:]directory path</p></td><td><p>IN</p></td></tr><tr><td><p>mode</p></td><td><p>mode_t</p></td><td><p>n/a</p></td><td><p>the new directories permission access in octal numeral system</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The DirCreate() function creates directories on remote machines.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::mkdir</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp112136"></a>Service fileRemove</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file to remove following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileRemove() function removes files from  remote hosts.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td> </td><td> </td></tr><tr><td> </td><td> </td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::rm</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp130488"></a>Service DirRemove</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  directory to remove following the pattern  [host:]directory path</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The DirRemove() function removes  directories (and subdirectories) from  remote machines.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::rmdir</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp147992"></a>Service grpChange</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file/directory following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>group</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>the new group owner of file/directory</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The grpChange() function changes group owner of  remote files/directories. </p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::chgrp</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp167016"></a>Service modeChange</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file/directory following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>mode</p></td><td><p>int</p></td><td><p>n/a</p></td><td><p> the access rigths of file/directory in octal system</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The modeChange() function changes  access rights of remote files/directories.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::chmod</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp186048"></a>Service fileHead</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file  following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>fileContent</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The first "nLine" lines of the file</p></td><td><p>OUT</p></td></tr><tr><td><p>nLine</p></td><td><p>size_t</p></td><td><p>n/a</p></td><td><p>Number of lines to display.</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileHead() function displays a few first lines of  files located on  remote machines.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::head</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp206656"></a>Service fileTail</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file  following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>fileContent</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The last "nLine" lines of the file.</p></td><td><p>OUT</p></td></tr><tr><td><p>nLine</p></td><td><p>size_t</p></td><td><p>n/a</p></td><td><p>number of lines to display.</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileTail() function displays a few last lines of  files located on remote machines</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::tail</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp227264"></a>Service fileContent</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  file to display following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>fileContent</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The content of the file.</p></td><td><p>OUT</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileContent() function displays content  of  files located on remote machines</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td> </td><td> </td></tr><tr><td> </td><td> </td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::more</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp247184"></a>Service dirList</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  directory to list following the pattern  [host:]directory path</p></td><td><p>IN</p></td></tr><tr><td><p>dirContent</p></td><td><p>string</p></td><td><p><a class="link" href="#">DirEntryList</a></p></td><td><p>The content of the directory  (only files names with short format, all files informations with long format).</p></td><td><p>OUT</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">LsDirOptions</a></p></td><td><p>List of options for the ls command.</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The dirList() function displays  the content of a remote directory</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::ls</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp268368"></a>Service fileCopy</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>src</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  source file to copy following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>dest</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The path of the destination file.</p></td><td><p>IN</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">CopyFileOptions</a></p></td><td><p>the copy options.</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileCopy() function executes a synchronous copy of file.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_UNKNOWN_MACHINE</p></td><td><p>The machine id is unknown</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_NOT_FOUND</p></td><td><p>The session key is unrecognized</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::cp</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp289888"></a>Service fileAsyncCopy</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>src</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The source file to copy following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>dest</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The path of the destination file</p></td><td><p>IN</p></td></tr><tr><td><p>thrId</p></td><td><p>long</p></td><td><p>n/a</p></td><td><p>A file tranfer identifier (allowing for instance  to ckeck the status of a file transfer, or to cancel it)</p></td><td><p>OUT</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">CopyFileOptions</a></p></td><td><p>the copy options</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileAsyncCopy() function executes an asynchronous copy of file.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>ERRCODE_UNKNOWN_MACHINE</p></td><td><p>The machine id is unknown</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_NOT_FOUND</p></td><td><p>The session key is unrecognized</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::acp</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp313032"></a>Service fileMove</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>src</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The  source file to move following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>dest</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The path of the destination file</p></td><td><p>IN</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">MvFileOptions</a></p></td><td><p>The move command options</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileMove() function executes a synchronous move of file.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::mv</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp333800"></a>Service fileAsyncMove</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>src</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The source file to move following the pattern  [host:]file path</p></td><td><p>IN</p></td></tr><tr><td><p>dest</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The path of the destination file.</p></td><td><p>IN</p></td></tr><tr><td><p>thrId</p></td><td><p>long</p></td><td><p>n/a</p></td><td><p>The file tranfer identifier (allowing for instance  to ckeck the status of a file transfer, or to cancel it).</p></td><td><p>OUT</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">MvFileOptions</a></p></td><td><p>The mv command options</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileAsyncMove() function executes an asynchronous move of file.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::amv</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp356200"></a>Service FileTransferCancel</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">StopTransferOptions</a></p></td><td><p>The stop file transfer command options</p></td><td><p>IN</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The FileTransferCancel() function stops an execution of a set of file transfers.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::stopFileTransfer</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp372344"></a>Service fileTransfersList</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>fileTransferList</p></td><td><p>string</p></td><td><p><a class="link" href="#">FileTransferList</a></p></td><td><p>The file transfer container.</p></td><td><p>OUT</p></td></tr><tr><td><p>options</p></td><td><p>string</p></td><td><p><a class="link" href="#">LsTransferOptions</a></p></td><td><p>The filter options .</p></td><td><p>IN</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The fileTransfersList() function displays the history of all file transfers submitted by User.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::listFileTransfers</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp391848"></a>Service FilesInfo</h3></div></div></div><p><span class="bold"><strong>Access</strong></span></p><p>This service can be used by any VISHNU user</p><p><span class="bold"><strong>Parameters</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="2cm" /><col width="3cm" /><col width="8cm" /><col width="1cm" /></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Serialized type</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><p>sessionKey</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The session key</p></td><td><p>IN</p></td></tr><tr><td><p>path</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>The file whose inode information will be displayed</p></td><td><p>IN</p></td></tr><tr><td><p>filesinfo</p></td><td><p>string</p></td><td><p><a class="link" href="#">FileStat</a></p></td><td><p>The  inode information.</p></td><td><p>OUT</p></td></tr><tr><td><p>errorInfo</p></td><td><p>string</p></td><td><p>n/a</p></td><td><p>Additional information provided when an error code is returned.</p></td><td><p>OUT</p></td></tr></tbody></table></div><p><span class="bold"><strong>Description </strong></span></p><p>The FilesInfo() function displays the information  of  files.</p><p><span class="bold"><strong>Return Value </strong></span></p><p>An error code is returned when an error occurs during the execution of the service</p><div class="informaltable"><table border="1"><colgroup><col width="8.5cm" /><col width="9cm" /></colgroup><thead><tr><th>Name
</th><th>Description
</th></tr></thead><tbody><tr><td><p>ERRCODE_DBERR</p></td><td><p>Vishnu not available (Database error)</p></td></tr><tr><td><p>ERRCODE_INVALID_PARAM</p></td><td><p>an option or a parameter provided is invalid for this service</p></td></tr><tr><td><p>ERRCODE_INVALID_PATH</p></td><td><p>The path provided is invalid</p></td></tr><tr><td><p>VISHNU_OK</p></td><td><p>The service has been performed succesfully.</p></td></tr><tr><td><p>ERRCODE_SESSIONKEY_EXPIRED</p></td><td><p>The session key has expired. The session is closed.</p></td></tr></tbody></table></div><p><span class="bold"><strong>Used by this(these) API function(s): </strong></span></p><p>FMS::stat</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp411184"></a>Chapter 4. Internal class and data structures</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#idp411544">Introduction</a></span></dt><dt><span class="section"><a href="#idp417208">FMS client modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp417728">Class diagrams</a></span></dt></dl></dd><dt><span class="section"><a href="#idp420472">FMS server modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp420992">Class diagrams</a></span></dt></dl></dd><dt><span class="section"><a href="#idp423712">FMS data modelization</a></span></dt><dd><dl><dt><span class="section"><a href="#idp424232">Class diagrams</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp411544"></a>Introduction</h2></div></div></div><p>This chapter introduces the details of the implementation of the different components described in chapter 2 (Architecture).
        It is composed of three sections:
      </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Client modelization</strong></span>: describes the classes used to implement the 
              <span class="it">FMS Client</span> component.</p></li><li class="listitem"><p><span class="bold"><strong>Server modelization</strong></span>: describes the classes used to implement the 
              <span class="it">FMS Server</span> component.</p></li><li class="listitem"><p><span class="bold"><strong>Data modelization</strong></span>: describes the data structure used to implement the 
              <span class="it">FMS Client</span> component and the <span class="it">FMS Server</span> component.</p></li><li class="listitem"><p><span class="bold"><strong>Vishnu core functions modelization</strong></span>: describes the classes and data structures used to implement the 
              the VISHNU cross-modules components (components that are used by FMS and other VISHNU modules).</p></li></ul></div><p>
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp417208"></a>FMS client modelization</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp417728"></a>Class diagrams</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp418072"></a>FMS Client Class Diagram</h4></div></div></div><p>This diagram describes all classes used to communicate with VISHNU System. Each class proxy contains the corresponding data class illustrated on the FMS Data modelization section and the methods usable by the FMS Client component. A QueryProxy class implements a generic model to list objects of VISHNU.</p><div class="figure"><a id="idp418928"></a><p class="title"><strong>Figure 4.1. FMS Client Class Diagram</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/FMS_Client_Class_Diagram.png" align="middle" alt="FMS Client Class Diagram" /></div></div></div><br class="figure-break" /></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp420472"></a>FMS server modelization</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp420992"></a>Class diagrams</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp421336"></a>FMS Server Class Diagram</h4></div></div></div><p>This diagram presents the main objects used by FMS server component to process the FMS Client component requests. The relationships between objects (simple dependancies, compositions, aggregations, and generalizations) are highlighted.The Query server performs the list operation. </p><div class="figure"><a id="idp422168"></a><p class="title"><strong>Figure 4.2. FMS Server Class Diagram</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/FMS_Server_Class_Diagram.png" align="middle" alt="FMS Server Class Diagram" /></div></div></div><br class="figure-break" /></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp423712"></a>FMS data modelization</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp424232"></a>Class diagrams</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp424576"></a>FMS Data Class Diagram</h4></div></div></div><p>This diagram illustrates the structure and the relationship between data manipulated by the components Client and Server. </p><div class="figure"><a id="idp425248"></a><p class="title"><strong>Figure 4.3. FMS Data Class Diagram</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/png/FMS_Data Class Diagram.png" align="middle" alt="FMS Data Class Diagram" /></div></div></div><br class="figure-break" /></div></div></div></div></div></body></html>
