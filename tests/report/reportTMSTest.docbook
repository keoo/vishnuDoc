<?xml version='1.0' encoding='UTF-8'?>

<book  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://docbook.org/ns/docbook">
   <info>
      <title> VISHNU - TMS - Tests report</title>
      <productname>VISHNU</productname>
      <releaseinfo>1.0</releaseinfo>
      <date>May 2011</date>
    
    <author>
      <personname><firstname>Benjamin</firstname><surname>Isnard</surname></personname>
    </author>  
    <author>
      <personname><firstname>Daouda</firstname><surname>Traoré</surname></personname>
    </author>
    <author>
      <personname><firstname>Eugène</firstname><surname>Pamba Capo-Chichi</surname></personname>
    </author>
    <author>
      <personname><firstname>Kevin</firstname><surname>Coulomb</surname></personname>
    </author>
    <author>
      <personname><firstname>Ibrahima</firstname><surname>Cissé</surname></personname>
    </author>
    
    <revhistory>
      <revision>
        <revnumber>1</revnumber>
        <date>05/05/2011</date>
        <authorinitials>  SYSFERA SA</authorinitials>
        <revdescription>
          <para>Deliverable version</para>
        </revdescription>
      </revision>

      <revision>
        <revnumber>2</revnumber>
        <date>22/12/2011</date>
        <authorinitials>  SYSFERA SA</authorinitials>
        <revdescription>
          <para>Add tests for T1.1-B2 and T1.1-B3</para>
        </revdescription>
      </revision>

      <revision>
        <revnumber>3</revnumber>
        <date>18/01/2012</date>
        <authorinitials>  SYSFERA SA</authorinitials>
        <revdescription>
          <para>Add tests for T1.2-B, T2.8-B and T2.4-B2</para>
        </revdescription>
      </revision>

      <revision>
        <revnumber>4</revnumber>
        <date>14/03/2012</date>
        <authorinitials>  SYSFERA SA</authorinitials>
        <revdescription>
          <para>Merge of this report with SLURM tests report</para>
        </revdescription>
      </revision>

      
      <revision>
        <revnumber>5</revnumber>
        <date>15/03/2012</date>
        <authorinitials>  SYSFERA SA</authorinitials>
        <revdescription>
          <para>Added LSF tests report</para>
        </revdescription>
      </revision>

    </revhistory>
    
      <copyright>
              <year>2011</year>
              <holder>SysFera SAS</holder>
      </copyright>
      <legalnotice>
              <para>This report is provided under the following conditions:</para>
              <para>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</para>
              <orderedlist>
                      <listitem>
                              <para>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</para>
                      </listitem>
                      <listitem>
                              <para>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</para>
                      </listitem>
              </orderedlist>
<para>This software is governed by the CECILL licence under French law and
abiding by the rules of distribution of free software.  You can  use, 
modify and/ or redistribute the software under the terms of the CeCILL
license as circulated by CEA, CNRS and INRIA at the following URL
&quot;http://www.cecill.info&quot;.</para>
<para>As a counterpart to the access to the source code and  rights to copy,
modify and redistribute granted by the license, users are provided only
with a limited warranty  and the software's author,  the holder of the
economic rights,  and the successive licensors  have only  limited
liability.</para>
<para>In this respect, the user's attention is drawn to the risks associated
with loading,  using,  modifying and/or developing or reproducing the
software by the user in light of its specific status of free software,
that may mean  that it is complicated to manipulate,  and  that  also
therefore means  that it is reserved for developers  and  experienced
professionals having in-depth computer knowledge. Users are therefore
encouraged to load and test the software's suitability as regards their
requirements in conditions enabling the security of their systems and/or 
data to be ensured and,  more generally, to use and operate it in the 
same conditions as regards security.</para>
       </legalnotice>
  </info>
    
  <chapter>
    <title> Introduction </title>
    <para>Author of the test code : Ibrahima CISSE</para>
    <para>Author of the test report : Eugène PAMBA CAPO-CHICHI</para>
    <para>Author of the SLURM and LSF tests report : Daouda TRAORE</para>
    <para> The tests which follows have been done in the following environment: </para>
    <para><itemizedlist>
        <listitem>
          <para>Database used for TORQUE and SLURM: PostgreSQL 8.4</para>
        </listitem>
        <listitem>
          <para>Database used for LSF: mysql 14.14</para>
        </listitem>
        <listitem>
          <para>OS used for the TORQUE and SLURM tests: Ubuntu 10.10 </para>
        </listitem>
        <listitem>
          <para>OS used for the LSF test: CentOS 6.2 </para>
        </listitem>
        <listitem>
          <para>Cmake version for TORQUE test: V2.6 </para>
        </listitem>
        <listitem>
          <para>Cmake version for SLURM and LSF tests: V2.8 </para>
        </listitem>
        <listitem>
          <para>gcc version for TORQUE: V4.3.3</para>
        </listitem>
        <listitem>
          <para>gcc version for SLURM: V4.4.5</para>
        </listitem>
        <listitem>
          <para>gcc version for LSF: V4.4.6</para>
        </listitem>
        <listitem>
          <para>DIET version for TORQUE: V2.6.1 </para>
        </listitem>
        <listitem>
          <para>DIET version for SLURM and LSF: V2.7 </para>
        </listitem>
        <listitem>
          <para> Batch schedulers : TORQUE V2.5, SLURM V2.2.1, LSF 7.0.6  </para>
        </listitem>
        <listitem>
          <para> RAM memory : 4Gb </para>
        </listitem>
      </itemizedlist>
    </para>
  </chapter>
  
    <chapter>
    <title>Functional tests </title>
      
     <section>
      <title> T1.1 - Submit a job </title>
      <para><emphasis role = "italic"> API command: submitJob</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T1.1-B</para></entry>
              <entry><para>Normal execution of submitJob</para></entry>
              <entry><para>The job identifier is returned</para></entry>
              <entry><para>The job identifier is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
              <entry><para>T1.1-B2</para></entry>
              <entry><para>Normal execution of submitJob</para></entry>
              <entry><para>The job output environment variables are returned</para></entry>
              <entry><para>The job output environment variables are returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
              <entry><para>T1.1-B3</para></entry>
              <entry><para>Normal execution of submitJob</para></entry>
              <entry><para>The job option working directory is correctly set</para></entry>
              <entry><para>The job option working directory is correctly set</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T1.1-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T1.1-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T1.1-E3</para></entry>
              <entry><para>Bad script content</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T1.1-E4</para></entry>
              <entry><para>Bad script path</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

        
     <section>
      <title> T1.2 - Automatic Submit a job </title>
      <para><emphasis role = "italic"> API command: submitJob</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T1.2-B</para></entry>
              <entry><para>Normal execution of automatic submitJob</para></entry>
              <entry><para>The job identifier is returned</para></entry>
              <entry><para>The job identifier is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T1.2-E1</para></entry>
              <entry><para>The user has not an account on any machines</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

    <section>
      <title> T2.2 - Cancel a job </title>
      <para><emphasis role = "italic"> API command: cancelJob</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.2-B</para></entry>
              <entry><para>Normal execution of cancelJob</para></entry>
              <entry><para>The job is cancelled</para></entry>
              <entry><para>The job is cancelled</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.2-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.2-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.2-E3</para></entry>
              <entry><para>Bad job identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.2-E4</para></entry>
              <entry><para>Job canceling by a user who is not an administrator and not the owner of the job</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    
     <section>
      <title> T2.1 - Get job information </title>
      <para><emphasis role = "italic"> API command: getJobInfo</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.1-B</para></entry>
              <entry><para>Normal execution of getJobInfo</para></entry>
              <entry><para>The job object is returned</para></entry>
              <entry><para>The job object is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.1-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.1-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.1-E3</para></entry>
              <entry><para>Bad job identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    
     <section>
      <title> T2.5 - Get jobs progression </title>
	<para><emphasis role = "italic"> API command: getJobProgress</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.5-B</para></entry>
              <entry><para>Normal execution of getJobProgress</para></entry>
              <entry><para>The job progression object is returned</para></entry>
              <entry><para>The job progression object is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.5-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.5-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.5-E3</para></entry>
              <entry><para>Bad job identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para> <emphasis role = "bold"> Remarks T2.5-B </emphasis>: when the job is not on running state, there is no progression. </para>
    </section>
    
    <section>
      <title> T2.6 - Get one job outputs </title>
	<para><emphasis role = "italic"> API command: getJobsOutput</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.6-B</para></entry>
              <entry><para>Normal execution of getJobsOutput</para></entry>
              <entry><para>The job output files are returned</para></entry>
              <entry><para>The job output files are returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.6-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.6-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.6-E3</para></entry>
              <entry><para>Bad job identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.6-E4</para></entry>
              <entry><para>Identifier of job not terminated</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	  
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    
    <section>
      <title> T2.7 - Get all completed jobs outputs </title>
	<para><emphasis role = "italic"> API command: getCompletedJobsOuput</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.7-B</para></entry>
              <entry><para>Normal execution of getCompletedJobsOuput</para></entry>
              <entry><para>The job output files of all completed jobs are returned</para></entry>
              <entry><para>The job output files of all completed jobs are returned</para></entry>
              <entry><para> 0 </para></entry>
            </row>
            <row>
             <entry><para>T2.7-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.7-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            
          </tbody>
        </tgroup>
      </informaltable>
      <para> <emphasis role = "bold"> Remarks T2.7-B </emphasis>: there is a failure when the script's execution is very fast (under one seconds). </para>
    </section>
      
      <section>
      <title> T2.3 - List job queues </title>
      <para><emphasis role = "italic"> API command: listQueues</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.3-B</para></entry>
              <entry><para>Normal execution of listQueues</para></entry>
              <entry><para>The list of queues is returned</para></entry>
              <entry><para>The list of queues is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.3-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.3-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            
          </tbody>
        </tgroup>
      </informaltable>
      <para> <emphasis role = "bold"> Remarks T2.3-B </emphasis>: to make this test, you must have administrator rights on the batch scheduler for adding
      a new queue. 
      </para>
    </section>
    
      <section>
      <title> T2.4 - List jobs </title>
      <para><emphasis role = "italic"> API command: listJobs</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.4-B</para></entry>
              <entry><para>Normal execution of listJobs</para></entry>
              <entry><para>The list of jobs is returned</para></entry>
              <entry><para>The list of jobs is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.4-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.4-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            
          </tbody>
        </tgroup>
      </informaltable>
    </section>


      <section>
      <title> T2.4-B2 - List batch jobs </title>
      <para><emphasis role = "italic"> API command: listJobs</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.4-B</para></entry>
              <entry><para>Normal execution of list batch Jobs</para></entry>
              <entry><para>The list of batch jobs is returned</para></entry>
              <entry><para>The list of batch jobs is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.4-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
	    <row>
             <entry><para>T2.4-E2</para></entry>
              <entry><para>Bad machine Identifier</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
            
          </tbody>
        </tgroup>
      </informaltable>
    </section>

      <section>
      <title> T2.8 - List jobs on all machines </title>
      <para><emphasis role = "italic"> API command: listJobs</emphasis></para>
     <informaltable>
        <tgroup cols="5">
          <colspec colwidth="2.0cm"/>
          <colspec colwidth="6cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="3.5cm"/>
          <colspec colwidth="1.5cm"/>
          <thead>
            <row>
              <entry>ID test</entry>
              <entry>Description of the test cases</entry>
              <entry>Output expected</entry>
              <entry>Output gotten</entry>
              <entry>Error</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><para>T2.8-B</para></entry>
              <entry><para>Normal execution of list Jobs on all machines</para></entry>
              <entry><para>The list of jobs on all machines is returned</para></entry>
              <entry><para>The list of jobs on all machines is returned</para></entry>
              <entry><para>0</para></entry>
            </row>
            <row>
             <entry><para>T2.8-E1</para></entry>
              <entry><para>Bad session key</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>VishnuException</para></entry>
              <entry><para>0</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

  </chapter> <!-- end Functionnal Tests --> 
  
  <chapter>
    <title>Stress tests </title>
    
     <informaltable frame="all">
         <tgroup cols="5">
       <tbody>
            <row>
               <entry>
                  <para>ID test</para>
               </entry>
               <entry>
                  <para>Date</para>
               </entry>
               <entry>
                  <para>Test description</para>
               </entry>
               <entry>
                  <para>Command(s) tested</para>
               </entry>
               <entry>
                  <para>Results</para>
               </entry>
               <entry>
                  <para>Remarks</para>
               </entry>
            </row>
            <row>
               <entry>
                  <para>STR-SERV-DOWN</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11</para>
                  <para>LSF: 20/03/12</para>
               </entry>
               <entry>
                  <para>The tms sed is stopped and restarted</para>
               </entry>
               <entry>
                  <para>submitJob</para>
               </entry>
               <entry>
                  <para>Success - normal job submission</para>
               </entry>
               <entry/>
            </row>
            <row>
               <entry>
                  <para>STR-AGENT-DOWN</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11 </para>
                  <para>LSF: 20/03/12 </para>
               </entry>
               <entry>
                  <para>The SysFera-DS Agent is stopped and restarted </para>
               </entry>
               <entry/>
               <entry>
                  <para>failure</para>
               </entry>
               <entry>
                  <para>The tms server must be restarted manually after the SysFera-DS is restarted</para>
               </entry>
            </row>
	    
	     <row>
               <entry>
                  <para>STR-BATCH-DOWN</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11</para>
                  <para>LSF: 20/03/12</para>
               </entry>
               <entry>
                  <para> The batch scheduler is stopped and the command submitJob is launched</para>
               </entry>
	       
	       <entry>
                  <para>submitJob</para>
               </entry>
	       
               <entry>
                  <para> Success - the corresponding error message is returned </para>
               </entry>
               
            </row>
           </tbody>
      </tgroup>
      </informaltable>

  </chapter>  
  
  
  <chapter>
    <title>Load tests </title>
    
     <informaltable frame="all">
      <tgroup cols="5">
       <tbody>
            <row>
               <entry>
                  <para>ID test</para>
               </entry>
               <entry>
                  <para>Date</para>
               </entry>
               <entry>
                  <para>Test description</para>
               </entry>
               <entry>
                  <para>Command(s) tested</para>
               </entry>
               <entry>
                  <para>Results</para>
               </entry>
            </row>
            <row>
               <entry>
                  <para>LOAD-2.1-submitJob</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11</para>
                  <para>LSF: 20/03/12</para>
               </entry>
               <entry>
                  <para>Simultaneous launch of 100 commands</para>
               </entry>
               <entry>
                  <para>submitJob</para>
               </entry>
               <entry>
                  <para>Success - normal execution of all commands launched</para>
               </entry>
            </row>   
	    <row>
               <entry>
                  <para>LOAD-2.1-listJobs</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11</para>
                  <para>LSF: 20/03/12</para>
               </entry>
               <entry>
                  <para>Success - Simultaneous launch of 100 commands</para>
               </entry>
               <entry>
                  <para>listJobs</para>
               </entry>
               <entry>
                  <para>Success - normal execution of all commands launched</para>
               </entry>
            </row>   
	    <row>
               <entry>
                  <para>LOAD-2.1-listQueues</para>
               </entry>
               <entry>
                  <para>TORQUE: 05/05/11</para>
                  <para>SLURM: 09/08/11</para>
                  <para>LSF: 20/03/12</para>
               </entry>
               <entry>
                  <para>Simultaneous launch of 100 commands</para>
               </entry>
               <entry>
                  <para>listQueues</para>
               </entry>
               <entry>
                  <para>Success - normal execution of all commands launched</para>
               </entry>
            </row>
	  </tbody>    
      </tgroup>
      </informaltable>
      <para> <emphasis role = "bold"> LOAD-2.1-submitJob </emphasis>: To allow 100 simultaneous ssh connexion, we have changed
        the default value of  <emphasis>MaxStartups</emphasis> to
                <emphasis>50:50:200</emphasis> in /etc/ssh/sshd_config. </para> 
    </chapter>
  
    
  <chapter>
    <title>Performance tests for TORQUE </title>
    
     <informaltable frame="all">
      <tgroup cols="6">
       <tbody>
            <row>
               <entry>
                  <para>ID test</para>
               </entry>
               <entry>
                  <para>Test description</para>
               </entry>
               <entry>
                  <para>Command(s) tested</para>
               </entry>
               <entry>
                  <para>VISHNU execution time</para>
               </entry>
	       <entry>
                  <para>SSH execution time</para>
               </entry>
	       <entry>
                  <para>Results</para>
               </entry>
            </row>
            <row>
               <entry>
                  <para>CDP-3.1-submitJob</para>
               </entry>
               <entry>
                  <para>comparison with " ssh localhost qsub " </para>
               </entry>
               <entry>
                  <para>submitJob</para>
               </entry>
               <entry>
                  <para>0,30s</para>
               </entry>
	       <entry>
                  <para>0,17s</para>
               </entry>
	       <entry>
                  <para>Failure</para>
               </entry>
            </row>   
	    <row>
               <entry>
                  <para>CDP-3.1-cancelJob</para>
               </entry>
               <entry>
                  <para>comparison with " ssh localhost qsub " </para>
               </entry>
               <entry>
                  <para>cancelJob</para>
               </entry>
               <entry>
                  <para>0,25s</para>
               </entry>
	       <entry>
                  <para>0,21s</para>
               </entry>
	       <entry>
                  <para>Failure</para>
               </entry>
            </row>   
	    <row>
               <entry>
                  <para>CDP-3.1-listJobs</para>
               </entry>
               <entry>
                  <para>comparison with " ssh localhost qstat " </para>
               </entry>
               <entry>
                  <para>listJobs</para>
               </entry>
               <entry>
                  <para>0,08s</para>
               </entry>
	       <entry>
                  <para>0,17s</para>
               </entry>
	       <entry>
                  <para>Success</para>
               </entry>
            </row>
	    
	    <row>
               <entry>
                  <para>CDP-3.2.1-listQueues</para>
               </entry>
               <entry>
                  <para>execution time less than "ssh localhost qstat -Q" </para>
               </entry>
               <entry>
                  <para>listQueues</para>
               </entry>
               <entry>
                  <para>0,10s</para>
               </entry>
	       <entry>
                  <para>0,16s</para>
               </entry>
	       <entry>
                  <para>Success</para>
               </entry>
            </row>
	  </tbody>    
      </tgroup>
      </informaltable>
      
      <informaltable frame="all">
      <tgroup cols="5">
       <tbody>    
	    <row>
               <entry>
                  <para>ID test</para>
               </entry>
               <entry>
                  <para>Test description</para>
               </entry>
               <entry>
                  <para>Command(s) tested</para>
               </entry>
               <entry>
                  <para>Memory comsumption</para>
               </entry>
	       <entry>
                  <para>Results</para>
               </entry>
            </row>
	    
	      <row>
               <entry>
                  <para>CDP-3.2.2-submitJob</para>
               </entry>
               <entry>
                  <para>memory consumption</para>
               </entry>
               <entry>
                  <para>submitJob</para>
               </entry>
               <entry>
                  <para>0,8% of the RAM memory</para>
               </entry>
	       <entry>
                  <para>Success</para>
               </entry>
            </row>
	    
	    <row>
               <entry>
                  <para>CDP-Memserver</para>
               </entry>
               <entry>
                  <para>Memory consumption of tms server running during 24 hours</para>
               </entry>
               <entry>
                  <para>tms server</para>
               </entry>
               <entry>
                  <para>0,7% of the RAM memory</para>
               </entry>
	       <entry>
                  <para>Success</para>
               </entry>
            </row>
	    
	</tbody>    
      </tgroup>
      </informaltable>
	    
  </chapter>

  <chapter>
    <title>Performance tests for SLURM </title>

    <informaltable frame="all">
      <tgroup cols="6">
        <tbody>
          <row>
            <entry>
              <para>ID test</para>
            </entry>
            <entry>
              <para>Test description</para>
            </entry>
            <entry>
              <para>Command(s) tested</para>
            </entry>
            <entry>
              <para>VISHNU execution time</para>
            </entry>
            <entry>
              <para>SSH execution time</para>
            </entry>
            <entry>
              <para>Results</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-submitJob</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost sbatch " </para>
            </entry>
            <entry>
              <para>submitJob</para>
            </entry>
            <entry>
              <para>0,28s</para>
            </entry>
            <entry>
              <para>0,18s</para>
            </entry>
            <entry>
              <para>Failure</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-cancelJob</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost scancel " </para>
            </entry>
            <entry>
              <para>cancelJob</para>
            </entry>
            <entry>
              <para>0,36s</para>
            </entry>
            <entry>
              <para>0,18s</para>
            </entry>
            <entry>
              <para>Failure</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-listJobs</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost squeue " </para>
            </entry>
            <entry>
              <para>listJobs</para>
            </entry>
            <entry>
              <para>0,09s</para>
            </entry>
            <entry>
              <para>0,18s</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-3.2.1-listQueues</para>
            </entry>
            <entry>
              <para>execution time less than "ssh localhost scontrol show  partition" </para>
            </entry>
            <entry>
              <para>listQueues</para>
            </entry>
            <entry>
              <para>0,09s</para>
            </entry>
            <entry>
              <para>0,17s</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

    <informaltable frame="all">
      <tgroup cols="5">
        <tbody>
          <row>
            <entry>
              <para>ID test</para>
            </entry>
            <entry>
              <para>Test description</para>
            </entry>
            <entry>
              <para>Command(s) tested</para>
            </entry>
            <entry>
              <para>Memory comsumption</para>
            </entry>
            <entry>
              <para>Results</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-3.2.2-submitJob</para>
            </entry>
            <entry>
              <para>CPU consumption</para>
            </entry>
            <entry>
              <para>submitJob</para>
            </entry>
            <entry>
              <para>5% of the CPU used</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-Memserver</para>
            </entry>
            <entry>
              <para>Memory consumption of tms server running during 24 hours</para>
            </entry>
            <entry>
              <para>tms server</para>
            </entry>
            <entry>
              <para>0,5% of the RAM memory</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

        </tbody>
      </tgroup>
    </informaltable>

  </chapter>


  <chapter>
    <title>Performance tests for LSF </title>

    <informaltable frame="all">
      <tgroup cols="6">
        <tbody>
          <row>
            <entry>
              <para>ID test</para>
            </entry>
            <entry>
              <para>Test description</para>
            </entry>
            <entry>
              <para>Command(s) tested</para>
            </entry>
            <entry>
              <para>VISHNU execution time</para>
            </entry>
            <entry>
              <para>SSH execution time</para>
            </entry>
            <entry>
              <para>Results</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-submitJob</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost sbatch " </para>
            </entry>
            <entry>
              <para>submitJob</para>
            </entry>
            <entry>
              <para>1,05s</para>
            </entry>
            <entry>
              <para>0,82s</para>
            </entry>
            <entry>
              <para>Failure</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-cancelJob</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost scancel " </para>
            </entry>
            <entry>
              <para>cancelJob</para>
            </entry>
            <entry>
              <para>0,95s</para>
            </entry>
            <entry>
              <para>0,82s</para>
            </entry>
            <entry>
              <para>Failure</para>
            </entry>
          </row>
          <row>
            <entry>
              <para>CDP-3.1-listJobs</para>
            </entry>
            <entry>
              <para>comparison with " ssh localhost squeue " </para>
            </entry>
            <entry>
              <para>listJobs</para>
            </entry>
            <entry>
              <para>0,10s</para>
            </entry>
            <entry>
              <para>0,80s</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-3.2.1-listQueues</para>
            </entry>
            <entry>
              <para>execution time less than "ssh localhost scontrol show  partition" </para>
            </entry>
            <entry>
              <para>listQueues</para>
            </entry>
            <entry>
              <para>0,10s</para>
            </entry>
            <entry>
              <para>0,85s</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

    <informaltable frame="all">
      <tgroup cols="5">
        <tbody>
          <row>
            <entry>
              <para>ID test</para>
            </entry>
            <entry>
              <para>Test description</para>
            </entry>
            <entry>
              <para>Command(s) tested</para>
            </entry>
            <entry>
              <para>Memory comsumption</para>
            </entry>
            <entry>
              <para>Results</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-3.2.2-submitJob</para>
            </entry>
            <entry>
              <para>CPU consumption</para>
            </entry>
            <entry>
              <para>submitJob</para>
            </entry>
            <entry>
              <para>5% of the CPU used</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

          <row>
            <entry>
              <para>CDP-Memserver</para>
            </entry>
            <entry>
              <para>Memory consumption of tms server running during 24 hours</para>
            </entry>
            <entry>
              <para>tms server</para>
            </entry>
            <entry>
              <para>0,5% of the RAM memory</para>
            </entry>
            <entry>
              <para>Success</para>
            </entry>
          </row>

        </tbody>
      </tgroup>
    </informaltable>

  </chapter>
  
</book>
